<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>NOKIA</h1>
<button onclick="turnOn1()">Bật điện thoại</button>
<button onclick="turnOff1()">Tắt điện thoại</button>
<button onclick="text1()">Soạn tin nhắn</button>
<button onclick="receive1()">Nhận tin nhắn</button>
<button onclick="sendmessage1()">Gửi tin nhắn</button>
<button onclick="inbox1()">Hộp thư đến</button>
<button onclick="sendbox1()">Hộp thư đi</button>
<button onclick="charge1()">Sạc điện thoại</button>
<p id="display1"></p>
<textarea style="width: 300px; height: 100px"></textarea>
<br>
<br>
<br>
<br>
<br>
<h1>Apple</h1>
<button onclick="turnOn2()">Bật điện thoại</button>
<button onclick="turnOff2()">Tắt điện thoại</button>
<button onclick="text2()">Soạn tin nhắn</button>
<button onclick="receive2()">Nhận tin nhắn</button>
<button onclick="sendmessage2()">Gửi tin nhắn</button>
<button onclick="inbox2()">Hộp thư đến</button>
<button onclick="sendbox2()">Hộp thư đi</button>
<button onclick="charge2()">Sạc điện thoại</button>
<p id="display2"></p>
<textarea style="width: 300px; height: 100px"></textarea>

<script>
    let flag = true

    class Phone {
        constructor(namePhone, status, battery) {
            this.status = status;
            this.namePhone = namePhone;
            this.battery = battery;
            this.memoryText = [];
            this.memoryInbox = [];
            this.memorySendbox = [];
        }

        statusPhone() {
            this.battery--
            return this.status
        }

        charge() {
            while (this.battery <= 100) {
                this.battery = this.battery + 0.00001;
            }
            alert(this.battery)
        }

        turnOn() {
            alert("Điện thoại " + this.namePhone + " đang bật");
            this.status = true;
        }

        turnOff() {
            alert("Điện thoại " + this.namePhone + " đang tắt");
            this.status = false
        }

        text(phone) {
            let message = prompt("Vui lòng nhập tin nhắn")
            if (confirm("Bạn có muốn gửi :" + message)) {
                this.memorySendbox.push(phone + "đã gửi tin nhắn" + message)
            } else {
                this.memoryText.push(phone + " đã soạn tin nhắn " + message)
            }
            this.battery--
        }

        receive(phoneName, message) {
            alert("Bạn đã nhận 01 tin nhắn");
            this.memoryInbox.push(("Điện thoại: " + phoneName + " đã gửi tin" +
                "lời nhắn: " + message))
            this.battery--
            ;
        }

        inbox(phone) {
            // for (let i = 0; i < this.memoryInbox.length; i++) {
            //   alert( "tin nhắn thứ " + [i + 1]  + " là "  + this.memoryInbox[i])
            // }
            document.getElementById("display").innerHTML = this.memoryInbox
            this.battery--;
        }

        sendBox(phone) {
            document.getElementById("display").innerHTML = this.memorySendbox
            this.battery--;
        }

        send(phone) {
            let data = "";
            for (let i = 0; i < this.memoryText.length; i++) {
                data += i + ": " + this.memoryText[i];
            }
            let index = parseInt(prompt(data))
            this.memorySendbox.push("Đã gửi tin đến tên điện thoại: " + phone.namePhone + ",với lời nhắn: " + this.memoryText[index])
            phone.memoryText(this.namePhone, this.text[index]);
            this.memoryText.splice(index, 1);
        }
    }

     if(this.status == true) {
         function text1() {
                 alert(phone1.text())
             }
     }
    var phone1 = new Phone("Nokia", 0, 50);
    var phone2 = new Phone("Apple", 0, 50);

    //
    //
    // function turnOff1() {
    //     alert(phone1.turnOff())
    // }
    //
    // function inbox1() {
    //     alert(phone1.inbox())
    // }
    //
    // function text1() {
    //     alert(phone1.text())
    // }
    //
    // function receive1() {
    //     alert(phone1.receive())
    // }
    //
    // function sendmessage1() {
    //     alert(phone1.send())
    // }
    //
    // function inbox1() {
    //     alert(phone1.inbox())
    // }
    //
    // function sendbox1() {
    //     alert(phone1.senBox())
    // }
    //
    // function charge1() {
    //     alert("Bạn đang sạc điện thoại: " + phone1.namePhone)
    //     alert(phone1.charge())
    // }
    //
    // function turnOn2() {
    //     alert(phone2.turnOn())
    // }
    //
    // function turnOff2() {
    //     alert(phone2.turnOff())
    // }
    //
    // function inbox2() {
    //     alert(phone2.inbox())
    // }
    //
    // function text2() {
    //     alert(phone2.text())
    // }
    //
    // function receive2() {
    //     alert(phone2.receive())
    // }
    //
    // function sendmessage2() {
    //     alert(phone2.send())
    // }
    //
    // function inbox2() {
    //     alert(phone2.inbox())
    // }
    //
    // function sendbox2() {
    //     alert(phone2.senBox())
    // }
    //
    // function charge2() {
    //     alert("Bạn đang sạc điện thoại: " + phone2.namePhone)
    //     alert(phone2.charge())
    // }

    console.log(phone1)
    console.log(phone2)

</script>
</body>
</html>